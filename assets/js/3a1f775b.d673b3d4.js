"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[8569],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>k});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var x=a.createContext({}),p=function(e){var t=a.useContext(x),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=p(e.components);return a.createElement(x.Provider,{value:t},e.children)},u="mdxType",s={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,x=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),u=p(n),m=r,k=u["".concat(x,".").concat(m)]||u[m]||s[m]||l;return n?a.createElement(k,i(i({ref:t},d),{},{components:n})):a.createElement(k,i({ref:t},d))}));function k(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,i=new Array(l);i[0]=m;var o={};for(var x in t)hasOwnProperty.call(t,x)&&(o[x]=t[x]);o.originalType=e,o[u]="string"==typeof e?e:r,i[1]=o;for(var p=2;p<l;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},2261:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>v,contentTitle:()=>P,default:()=>L,frontMatter:()=>T,metadata:()=>_,toc:()=>S});var a=n(7462),r=n(7294),l=n(3905),i=n(4334),o=n(2466),x=n(6550),p=n(1980),d=n(7392),u=n(12);function s(e){return function(e){return r.Children.map(e,(e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}(e).map((e=>{let{props:{value:t,label:n,attributes:a,default:r}}=e;return{value:t,label:n,attributes:a,default:r}}))}function m(e){const{values:t,children:n}=e;return(0,r.useMemo)((()=>{const e=t??s(n);return function(e){const t=(0,d.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function k(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function N(e){let{queryString:t=!1,groupId:n}=e;const a=(0,x.k6)(),l=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:t,groupId:n});return[(0,p._X)(l),(0,r.useCallback)((e=>{if(!l)return;const t=new URLSearchParams(a.location.search);t.set(l,e),a.replace({...a.location,search:t.toString()})}),[l,a])]}function c(e){const{defaultValue:t,queryString:n=!1,groupId:a}=e,l=m(e),[i,o]=(0,r.useState)((()=>function(e){let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!k({value:t,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const a=n.find((e=>e.default))??n[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:t,tabValues:l}))),[x,p]=N({queryString:n,groupId:a}),[d,s]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[a,l]=(0,u.Nk)(n);return[a,(0,r.useCallback)((e=>{n&&l.set(e)}),[n,l])]}({groupId:a}),c=(()=>{const e=x??d;return k({value:e,tabValues:l})?e:null})();(0,r.useLayoutEffect)((()=>{c&&o(c)}),[c]);return{selectedValue:i,selectValue:(0,r.useCallback)((e=>{if(!k({value:e,tabValues:l}))throw new Error(`Can't select invalid tab value=${e}`);o(e),p(e),s(e)}),[p,s,l]),tabValues:l}}var h=n(2389);const g={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function f(e){let{className:t,block:n,selectedValue:l,selectValue:x,tabValues:p}=e;const d=[],{blockElementScrollPositionUntilNextRender:u}=(0,o.o5)(),s=e=>{const t=e.currentTarget,n=d.indexOf(t),a=p[n].value;a!==l&&(u(t),x(a))},m=e=>{let t=null;switch(e.key){case"Enter":s(e);break;case"ArrowRight":{const n=d.indexOf(e.currentTarget)+1;t=d[n]??d[0];break}case"ArrowLeft":{const n=d.indexOf(e.currentTarget)-1;t=d[n]??d[d.length-1];break}}t?.focus()};return r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.Z)("tabs",{"tabs--block":n},t)},p.map((e=>{let{value:t,label:n,attributes:o}=e;return r.createElement("li",(0,a.Z)({role:"tab",tabIndex:l===t?0:-1,"aria-selected":l===t,key:t,ref:e=>d.push(e),onKeyDown:m,onClick:s},o,{className:(0,i.Z)("tabs__item",g.tabItem,o?.className,{"tabs__item--active":l===t})}),n??t)})))}function b(e){let{lazy:t,children:n,selectedValue:a}=e;const l=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){const e=l.find((e=>e.props.value===a));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return r.createElement("div",{className:"margin-top--md"},l.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==a}))))}function C(e){const t=c(e);return r.createElement("div",{className:(0,i.Z)("tabs-container",g.tabList)},r.createElement(f,(0,a.Z)({},e,t)),r.createElement(b,(0,a.Z)({},e,t)))}function E(e){const t=(0,h.Z)();return r.createElement(C,(0,a.Z)({key:String(t)},e))}const D={tabItem:"tabItem_Ymn6"};function y(e){let{children:t,hidden:n,className:a}=e;return r.createElement("div",{role:"tabpanel",className:(0,i.Z)(D.tabItem,a),hidden:n},t)}const T={title:"Firmware Development",pagination_next:null,pagination_prev:null},P="Firmware Development",_={unversionedId:"development/firmware-development",id:"development/firmware-development",title:"Firmware Development",description:"GP2040-CE is written in C++ and set up as a standard Pico SDK project.",source:"@site/docs/development/firmware-development.mdx",sourceDirName:"development",slug:"/development/firmware-development",permalink:"/development/firmware-development",draft:!1,tags:[],version:"current",frontMatter:{title:"Firmware Development",pagination_next:null,pagination_prev:null},sidebar:"contributeSidebar"},v={},S=[{value:"Environment Setup",id:"environment-setup",level:2},{value:"Ubuntu",id:"ubuntu",level:4},{value:"Raspberry Pi",id:"raspberry-pi",level:4},{value:"Building",id:"building",level:2},{value:"Environment Variables",id:"environment-variables",level:3},{value:"SDK Variables",id:"sdk-variables",level:4},{value:"Configuration",id:"configuration",level:2},{value:"Board Configuration Folder",id:"board-configuration-folder",level:3},{value:"Board Configuration (<code>BoardConfig.h</code>)",id:"board-configuration-boardconfigh",level:3},{value:"RGB LEDs",id:"rgb-leds",level:4},{value:"Player LEDs",id:"player-leds",level:4},{value:"I2C Displays",id:"i2c-displays",level:4},{value:"I2C Display Splash",id:"i2c-display-splash",level:4}],w={toc:S},I="wrapper";function L(e){let{components:t,...n}=e;return(0,l.kt)(I,(0,a.Z)({},w,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"firmware-development"},"Firmware Development"),(0,l.kt)("p",null,"GP2040-CE is written in C++ and set up as a standard Pico SDK project.\nSee ",(0,l.kt)("a",{parentName:"p",href:"https://rptl.io/pico-get-started"},"Getting Started with the Raspberry Pi Pico"),"."),(0,l.kt)("h2",{id:"environment-setup"},"Environment Setup"),(0,l.kt)("p",null,"Most of this will be parroting the above linked PDF from the Raspberry Pi Foundation."),(0,l.kt)("p",null,"For GP2040-CE development on the Windows platform using the Pico SDK Installer, please skip ahead to the 'Windows Setup (Pico SDK Installer)' section on this page."),(0,l.kt)(E,{groupId:"operating-systems",defaultValue:"Windows (Pico SDK)",mdxType:"Tabs"},(0,l.kt)(y,{value:"Windows (Pico SDK)",label:"Windows (Pico SDK)",default:!0,mdxType:"TabItem"},(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Download and install ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/Kitware/CMake/releases/download/v3.27.4/cmake-3.27.4-windows-x86_64.msi"},"CMake"),".")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Download and install ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/raspberrypi/pico-setup-windows/releases/"},"pico-setup-windows-x64-standalone"),".")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Download and install VSCode.")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Download and install ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/microsoft/terminal/releases/tag/v1.17.11461.0"},"Windows Terminal"),".")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Open Windows Terminal.")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Download the GP2040-CE-main repository by running the following commands in the Windows Terminal. This will download the folder to ",(0,l.kt)("inlineCode",{parentName:"p"},"C:\\Users\\user\\GP2040-CE"),"."),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-console"},"git clone https://github.com/OpenStickCommunity/GP2040-CE.git\ncd GP2040-CE\ngit submodule update --init\n")))),(0,l.kt)("p",null,'After installing the Raspberry Pi Pico SDK, you should now have a shortcut to "Pico-Visual Studio Code" (search for it using Windows Search).'),(0,l.kt)("ol",{start:7},(0,l.kt)("li",{parentName:"ol"},'Open "Pico-Visual Studio Code" via Windows search. This is a shortcut with pre-configured environment variables (this will be explained later).'),(0,l.kt)("li",{parentName:"ol"},"Navigate to the Extensions window by pressing ",(0,l.kt)("inlineCode",{parentName:"li"},"Ctrl+Shift+X"),"."),(0,l.kt)("li",{parentName:"ol"},'Install "CMake Tools" by Microsoft.'),(0,l.kt)("li",{parentName:"ol"},'Open the GP2040-CE folder you downloaded earlier via "File > Open Folder."'))),(0,l.kt)(y,{value:"Windows (Manual)",label:"Windows (Manual)",default:!0,mdxType:"TabItem"},(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Install the latest",(0,l.kt)("a",{parentName:"p",href:"https://developer.arm.com/downloads/-/arm-gnu-toolchain-downloads"},"Arm GNU Toolchain"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Install latest version of ",(0,l.kt)("a",{parentName:"p",href:"https://cmake.org/download/"},"CMake"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Install ",(0,l.kt)("a",{parentName:"p",href:"https://visualstudio.microsoft.com/downloads/#build-tools-for-visual-studio-2022"},"Visual Studio Build tools"),", or the full ",(0,l.kt)("a",{parentName:"p",href:"https://visualstudio.microsoft.com/downloads/#visual-studio-community-2022"},"Visual Studio Community Edition IDE")),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Make sure to select the Desktop development with C++ workload"),(0,l.kt)("li",{parentName:"ul"},"Select the latest Windows 10 or Windows 11 SDK from the Individual Components"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Install ",(0,l.kt)("a",{parentName:"p",href:"https://www.python.org/downloads/windows/"},"Python 3.10")),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"At the end of the installation, there is an option to disable max file path length. You want to select this."))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Install ",(0,l.kt)("a",{parentName:"p",href:"https://code.visualstudio.com/"},"Visual Studio Code")," - Optional")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Install git"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Set default editor to anything other than VIM, such as Visual Studio Code"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Install ",(0,l.kt)("a",{parentName:"p",href:"https://nodejs.org/en/download"},"NodeJS")," and NPM")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Clone the Pico SDK to your local computer"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-console"},"git clone https://github.com/raspberrypi/pico-sdk.git\ncd pico-sdk\ngit submodule update --init\ncd ..\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"From a command-prompt, Clone GP2040-CE to your local computer"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-console"},"git clone https://github.com/OpenStickCommunity/GP2040-CE.git\ncd GP2040-CE\n"))))),(0,l.kt)(y,{value:"Linux",label:"Linux",default:!0,mdxType:"TabItem"},(0,l.kt)("h4",{id:"ubuntu"},"Ubuntu"),(0,l.kt)("p",null,"This setup assumes an understanding of Linux terminal usage."),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Get the SDK"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"cd ~/\nmkdir pico\ncd pico\ngit clone https://github.com/raspberrypi/pico-sdk.git --branch master\ncd pico-sdk\ngit submodule update --init\ncd ..\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Install the toolchain"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"sudo apt update\nsudo apt install cmake gcc-arm-none-eabi libnewlib-arm-none-eabi build-essential\n")),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"May additionally need to install ",(0,l.kt)("inlineCode",{parentName:"li"},"libstdc++-arm-none-eabi-newlib")))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Install NodeJS and NPM"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash - &&\\\nsudo apt-get install -y nodejs\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Get GP2040-CE"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"git clone https://github.com/OpenStickCommunity/GP2040-CE.git\ncd GP2040-CE\ngit submodule update --init\n")))),(0,l.kt)("h4",{id:"raspberry-pi"},"Raspberry Pi"),(0,l.kt)("p",null,"This setup script requires approximately 2.5GB of disk space on your SD card."),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Download the setup script"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"wget https://raw.githubusercontent.com/raspberrypi/pico-setup/master/pico_setup.sh\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Make script executable and Run it."),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"chmod +x pico_setup.sh\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Install NodeJS and NPM"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash - &&\\\nsudo apt-get install -y nodejs\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Reboot your Pi"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"sudo reboot\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Get GP2040-CE"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"git clone https://github.com/OpenStickCommunity/GP2040-CE.git\ncd GP2040-CE\ngit submodule update --init\n")))))),(0,l.kt)("h2",{id:"building"},"Building"),(0,l.kt)("h3",{id:"environment-variables"},"Environment Variables"),(0,l.kt)("p",null,"A number of new environment variables have been setup to control parts of the build flow."),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Default"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"GP2040_BOARDCONFIG"),(0,l.kt)("td",{parentName:"tr",align:null},"Pico"),(0,l.kt)("td",{parentName:"tr",align:null},"The boards.h config file to use for the build.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"SKIP_WEBBUILD"),(0,l.kt)("td",{parentName:"tr",align:null},"FALSE"),(0,l.kt)("td",{parentName:"tr",align:null},"Determines whether the web configurator is built during the cmake configuration step.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"SKIP_SUBMODULES"),(0,l.kt)("td",{parentName:"tr",align:null},"FALSE"),(0,l.kt)("td",{parentName:"tr",align:null},"Determines whether the submodule init command is run automatically during the cmake configuration step.")))),(0,l.kt)("h4",{id:"sdk-variables"},"SDK Variables"),(0,l.kt)("p",null,"There are a few SDK variables we take advantage of for our builds."),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Default"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"PICO_BOARD"),(0,l.kt)("td",{parentName:"tr",align:null},"pico"),(0,l.kt)("td",{parentName:"tr",align:null},"This is the embedded board that the RP2040 chip is part of. By default, it assumes the Pico. This variable would match the ",(0,l.kt)("inlineCode",{parentName:"td"},"<boardname.h>")," file in the board's configs folder.")))),(0,l.kt)(E,{groupId:"operating-systems",defaultValue:"Windows (Pico SDK)",mdxType:"Tabs"},(0,l.kt)(y,{value:"Windows (Pico SDK)",label:"Windows (Pico SDK)",default:!0,mdxType:"TabItem"},(0,l.kt)("p",null,'After installing the Raspberry Pi Pico SDK, you should now have a shortcut to "Pico-Visual Studio Code" (search for it using Windows Search). This shortcut should already have everything configured, ',(0,l.kt)("strong",{parentName:"p"},"allowing you to skip to step 7"),". If you're experiencing compilation issues, consider following the manual steps outlined here."),(0,l.kt)("p",null,"Ensure the ",(0,l.kt)("inlineCode",{parentName:"p"},"PICO_SDK_PATH")," environment variable is set:"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},'Search for "Edit environment variables for your account" in Windows.'),(0,l.kt)("li",{parentName:"ol"},'Under "User Variables," click "New...".'),(0,l.kt)("li",{parentName:"ol"},"In the dialog that appears, enter ",(0,l.kt)("inlineCode",{parentName:"li"},"PICO_SDK_PATH")," for the Variable Name."),(0,l.kt)("li",{parentName:"ol"},'Click "Browse Directory" and navigate to ',(0,l.kt)("inlineCode",{parentName:"li"},"C:\\Program Files\\Raspberry Pi\\Pico SDK v1.5.1\\pico-sdk")," for the Variable Value."),(0,l.kt)("li",{parentName:"ol"},"Create another new variable."),(0,l.kt)("li",{parentName:"ol"},"Enter ",(0,l.kt)("inlineCode",{parentName:"li"},"GP2040_BOARDCONFIG")," for the Variable Name."),(0,l.kt)("li",{parentName:"ol"},"Enter ",(0,l.kt)("inlineCode",{parentName:"li"},"Pico")," (or the name of your edited config folder) for the Variable Value.")),(0,l.kt)("p",null,"You can also set the variable within VSCode:"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Press ",(0,l.kt)("inlineCode",{parentName:"li"},"Ctrl + ,")," to open the settings."),(0,l.kt)("li",{parentName:"ol"},'Use the search bar to find "CMake."'),(0,l.kt)("li",{parentName:"ol"},'Scroll until you see "CMake: Configure Environment."'),(0,l.kt)("li",{parentName:"ol"},'Click "Add Item."'),(0,l.kt)("li",{parentName:"ol"},"Key: ",(0,l.kt)("inlineCode",{parentName:"li"},"GP2040_BOARDCONFIG")),(0,l.kt)("li",{parentName:"ol"},"Value: ",(0,l.kt)("inlineCode",{parentName:"li"},"Pico")," (or your working folder name).")),(0,l.kt)("p",null,"When prompted, choose ",(0,l.kt)("inlineCode",{parentName:"p"},"GCC 10.3.1 ARM NONE EABI"),' for "Select a kit for GP2040-CE"'),(0,l.kt)("p",null,"From inside VSCode:"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Click the CMake icon on the left sidebar of VSCode."),(0,l.kt)("li",{parentName:"ol"},'You\'ll see three icons at the top-right corner of the CMake project outline. Click the "Configure All Projects" icon (looks like a page with an arrow).'),(0,l.kt)("li",{parentName:"ol"},'Wait for the configuration process to complete. If progress isn\'t visible, open a new terminal in VSCode by clicking on the "Terminal" menu, then "New Terminal". A new terminal window will open at the bottom, navigate the "Output" tab.'),(0,l.kt)("li",{parentName:"ol"},'Click "Build All Projects" in the CMake project outline.'),(0,l.kt)("li",{parentName:"ol"},'The files should be in a new folder named "build" inside the GP2040-CE folder'))),(0,l.kt)(y,{value:"Windows (Manual)",label:"Windows (Manual)",default:!0,mdxType:"TabItem"},(0,l.kt)("p",null,"Start in the GP2040-CE folder. ",(0,l.kt)("strong",{parentName:"p"},"From a Developer Powershell or Developer Command Command Prompt"),":"),(0,l.kt)("admonition",{type:"note"},(0,l.kt)("p",{parentName:"admonition"},"A new Powershell or Command Prompt session will be required after setting an environment variable.")),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Ensure you have the ",(0,l.kt)("inlineCode",{parentName:"p"},"PICO_SDK_PATH")," environment variable set to the path to your pico-sdk folder.")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"(optional) Set the ",(0,l.kt)("inlineCode",{parentName:"p"},"GP2040_BOARDCONFIG")," environment variable to the folder name for your board configuration."),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Default value is ",(0,l.kt)("inlineCode",{parentName:"li"},"Pico")))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Create a build directory, configure the build, and execute the build."),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-console"},'mkdir build\ncd build\ncmake -G "NMake Makefiles" ..\nnmake\n'))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Your UF2 file should be in the build directory.")))),(0,l.kt)(y,{value:"Linux",label:"Linux",default:!0,mdxType:"TabItem"},(0,l.kt)("p",null,"Start in the GP2040-CE folder"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Ensure you have the ",(0,l.kt)("inlineCode",{parentName:"p"},"PICO_SDK_PATH")," environment variable set to the path to your pico-sdk folder.")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"(optional) Set the ",(0,l.kt)("inlineCode",{parentName:"p"},"GP2040_BOARDCONFIG")," environment variable to the folder name for your board configuration."),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Default value is ",(0,l.kt)("inlineCode",{parentName:"li"},"Pico")))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Create a build directory, configure the build, and execute the build."),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"mkdir build\ncd build\ncmake ..\nmake\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Your UF2 file should be in the build directory."))))),(0,l.kt)("h2",{id:"configuration"},"Configuration"),(0,l.kt)("admonition",{type:"note"},(0,l.kt)("p",{parentName:"admonition"},"We're looking to move away from compile time configuration, in favor of runtime configuration.")),(0,l.kt)("p",null,"There are two simple options for building GP2040-CE for your board. You can either edit an existing board definition, or create your own. Several example configurations are located in the repository ",(0,l.kt)("strong",{parentName:"p"},(0,l.kt)("a",{parentName:"strong",href:"https://github.com/OpenStickCommunity/GP2040-CE/tree/main/configs"},"configs"))," folder. This document will outline setting up a new build configuration."),(0,l.kt)("h3",{id:"board-configuration-folder"},"Board Configuration Folder"),(0,l.kt)("p",null,"Each subfolder in ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/OpenStickCommunity/GP2040-CE/tree/main/configs"},(0,l.kt)("inlineCode",{parentName:"a"},"configs"))," contains a separate board configuration, which consists of the following:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Required?"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"BoardConfig.h")),(0,l.kt)("td",{parentName:"tr",align:null},"Yes"),(0,l.kt)("td",{parentName:"tr",align:null},"The configuration file used when building GP2040-CE for a specific controller/board. Contains initial pin mappings, LED configuration, etc.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"README.mdx")),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"Provides information related to this board configuration. Not required for the build process, but suggested for pull requests of new board configurations.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"assets/")),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"Folder for containing assets included in the ",(0,l.kt)("inlineCode",{parentName:"td"},"README.mdx"),". Not required for the build process.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"'\\<boardname.h",">","'"),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"Board definition file, named after the board itself, used by the Pico SDK for configuring board specific SDK features. ",(0,l.kt)("a",{parentName:"td",href:"https://github.com/raspberrypi/pico-sdk/blob/master/src/boards/include/boards/pico.h"},"Pico Example"))))),(0,l.kt)("h3",{id:"board-configuration-boardconfigh"},"Board Configuration (",(0,l.kt)("inlineCode",{parentName:"h3"},"BoardConfig.h"),")"),(0,l.kt)("p",null,"The following board options are available in the ",(0,l.kt)("inlineCode",{parentName:"p"},"BoardConfig.h")," file:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Required?"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"PIN",(0,l.kt)("em",{parentName:"strong"},"DPAD"),(0,l.kt)("em",{parentName:"strong"},"X")),(0,l.kt)("br",null),(0,l.kt)("strong",{parentName:"td"},"PIN",(0,l.kt)("em",{parentName:"strong"},"BUTTON"),(0,l.kt)("em",{parentName:"strong"},"X"))),(0,l.kt)("td",{parentName:"tr",align:null},"The GPIO pin for the button. Replace the ",(0,l.kt)("em",{parentName:"td"},(0,l.kt)("inlineCode",{parentName:"em"},"X"))," with GP2040-CE button or D-pad direction."),(0,l.kt)("td",{parentName:"tr",align:null},"Yes")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"DEFAULT_SOCD_MODE")),(0,l.kt)("td",{parentName:"tr",align:null},"The default SOCD mode to use, defaults to ",(0,l.kt)("inlineCode",{parentName:"td"},"SOCD_MODE_NEUTRAL"),".",(0,l.kt)("br",null),"Available options are:",(0,l.kt)("br",null),(0,l.kt)("inlineCode",{parentName:"td"},"SOCD_MODE_NEUTRAL"),(0,l.kt)("br",null),(0,l.kt)("inlineCode",{parentName:"td"},"SOCD_MODE_UP_PRIORITY"),(0,l.kt)("br",null),(0,l.kt)("inlineCode",{parentName:"td"},"SOCD_MODE_SECOND_INPUT_PRIORITY")),(0,l.kt)("td",{parentName:"tr",align:null},"No")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"BUTTON_LAYOUT")),(0,l.kt)("td",{parentName:"tr",align:null},"The layout of controls/buttons for use with per-button LEDs and external displays.",(0,l.kt)("br",null),"Available options are:",(0,l.kt)("br",null),(0,l.kt)("inlineCode",{parentName:"td"},"BUTTON_LAYOUT_STICKLESS"),(0,l.kt)("br",null),(0,l.kt)("inlineCode",{parentName:"td"},"BUTTON_LAYOUT_WASD")),(0,l.kt)("td",{parentName:"tr",align:null},"Yes")))),(0,l.kt)("p",null,"Create ",(0,l.kt)("inlineCode",{parentName:"p"},"configs/NewBoard/BoardConfig.h")," and add your pin configuration and options. An example ",(0,l.kt)("inlineCode",{parentName:"p"},"BoardConfig.h")," file:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},"// BoardConfig.h\n\n#include <GamepadEnums.h>\n\n#define PIN_DPAD_UP     2\n#define PIN_DPAD_DOWN   3\n#define PIN_DPAD_LEFT   4\n#define PIN_DPAD_RIGHT  5\n#define PIN_BUTTON_B1   6\n#define PIN_BUTTON_B2   7\n#define PIN_BUTTON_B3   8\n#define PIN_BUTTON_B4   9\n#define PIN_BUTTON_L1   10\n#define PIN_BUTTON_R1   11\n#define PIN_BUTTON_L2   26\n#define PIN_BUTTON_R2   27\n#define PIN_BUTTON_S1   16\n#define PIN_BUTTON_S2   17\n#define PIN_BUTTON_L3   18\n#define PIN_BUTTON_R3   19\n#define PIN_BUTTON_A1   20\n#define PIN_BUTTON_A2   21\n#define PIN_BUTTON_TURBO -1\n#define PIN_SLIDER_LS    -1\n#define PIN_SLIDER_RS    -1\n\n#define DEFAULT_SOCD_MODE SOCD_MODE_NEUTRAL\n#define BUTTON_LAYOUT BUTTON_LAYOUT_ARCADE\n")),(0,l.kt)("h4",{id:"rgb-leds"},"RGB LEDs"),(0,l.kt)("p",null,"GP2040-CE supports per-button WS2812 and similar RGB LEDs."),(0,l.kt)("p",null,"The following RGB LED options are available in the ",(0,l.kt)("inlineCode",{parentName:"p"},"BoardConfig.h")," file:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Required?"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"BUTTON_LAYOUT")),(0,l.kt)("td",{parentName:"tr",align:null},"The layout of controls/buttons for use with per-button LEDs and external displays.",(0,l.kt)("br",null),"Available options are:",(0,l.kt)("br",null),(0,l.kt)("inlineCode",{parentName:"td"},"BUTTON_LAYOUT_STICKLESS"),(0,l.kt)("br",null),(0,l.kt)("inlineCode",{parentName:"td"},"BUTTON_LAYOUT_WASD")),(0,l.kt)("td",{parentName:"tr",align:null},"Yes")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"BOARD_LEDS_PIN")),(0,l.kt)("td",{parentName:"tr",align:null},"Data PIN for your LED strand"),(0,l.kt)("td",{parentName:"tr",align:null},"Yes")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"LED_FORMAT")),(0,l.kt)("td",{parentName:"tr",align:null},"The color data format for the LED chain.",(0,l.kt)("br",null),"Available options are:",(0,l.kt)("br",null),(0,l.kt)("inlineCode",{parentName:"td"},"LED_FORMAT_GRB"),(0,l.kt)("br",null),(0,l.kt)("inlineCode",{parentName:"td"},"LED_FORMAT_RGB"),(0,l.kt)("br",null),(0,l.kt)("inlineCode",{parentName:"td"},"LED_FORMAT_GRBW"),(0,l.kt)("br",null),(0,l.kt)("inlineCode",{parentName:"td"},"LED_FORMAT_RGBW")),(0,l.kt)("td",{parentName:"tr",align:null},"No, default value ",(0,l.kt)("inlineCode",{parentName:"td"},"LED_FORMAT_GRB"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"LEDS_PER_PIXEL")),(0,l.kt)("td",{parentName:"tr",align:null},"The number of LEDs per button."),(0,l.kt)("td",{parentName:"tr",align:null},"Yes")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"LED_BRIGHTNESS_MAXIMUM")),(0,l.kt)("td",{parentName:"tr",align:null},"Max brightness value, ",(0,l.kt)("inlineCode",{parentName:"td"},"uint8_t")," 0-255."),(0,l.kt)("td",{parentName:"tr",align:null},"Yes")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"LED_BRIGHTNESS_STEPS")),(0,l.kt)("td",{parentName:"tr",align:null},"The number of brightness steps when using the up/down hotkey."),(0,l.kt)("td",{parentName:"tr",align:null},"Yes")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"LEDS",(0,l.kt)("em",{parentName:"strong"},"DPAD"),(0,l.kt)("em",{parentName:"strong"},"X")),(0,l.kt)("br",null),(0,l.kt)("strong",{parentName:"td"},"LEDS",(0,l.kt)("em",{parentName:"strong"},"BUTTON"),(0,l.kt)("em",{parentName:"strong"},"X"))),(0,l.kt)("td",{parentName:"tr",align:null},"The index of the button on the LED chain. Replace the ",(0,l.kt)("em",{parentName:"td"},(0,l.kt)("inlineCode",{parentName:"em"},"X"))," with GP2040-CE button or D-pad direction."),(0,l.kt)("td",{parentName:"tr",align:null},"Yes")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"LEDS_BASE_ANIMATION_INDEX")),(0,l.kt)("td",{parentName:"tr",align:null},"The default LED animation index."),(0,l.kt)("td",{parentName:"tr",align:null},"No, defaults to ",(0,l.kt)("inlineCode",{parentName:"td"},"1"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"LEDS_STATIC_COLOR_INDEX")),(0,l.kt)("td",{parentName:"tr",align:null},"The default color index for the static color theme"),(0,l.kt)("td",{parentName:"tr",align:null},"No, defaults to ",(0,l.kt)("inlineCode",{parentName:"td"},"2"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"LEDS_BUTTON_COLOR_INDEX")),(0,l.kt)("td",{parentName:"tr",align:null},"The default color index for the pressed button color"),(0,l.kt)("td",{parentName:"tr",align:null},"No, defaults to ",(0,l.kt)("inlineCode",{parentName:"td"},"1"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"LEDS_THEME_INDEX")),(0,l.kt)("td",{parentName:"tr",align:null},"The default theme index for static themes"),(0,l.kt)("td",{parentName:"tr",align:null},"No, defaults to ",(0,l.kt)("inlineCode",{parentName:"td"},"0"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"LEDS_RAINBOW_CYCLE_TIME")),(0,l.kt)("td",{parentName:"tr",align:null},"The color cycle time for rainbow cycle theme"),(0,l.kt)("td",{parentName:"tr",align:null},"No, defaults to ",(0,l.kt)("inlineCode",{parentName:"td"},"40"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"LEDS_CHASE_CYCLE_TIME")),(0,l.kt)("td",{parentName:"tr",align:null},"The animation speed for the rainbow chase theme"),(0,l.kt)("td",{parentName:"tr",align:null},"No, defaults to ",(0,l.kt)("inlineCode",{parentName:"td"},"85"))))),(0,l.kt)("p",null,"An example RGB LED setup in the ",(0,l.kt)("inlineCode",{parentName:"p"},"BoardConfig.h")," file:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},'// BoardConfig.h\n\n#include "gp2040.h"\n#include "NeoPico.hpp"\n\n#define BUTTON_LAYOUT BUTTON_LAYOUT_STICKLESS\n\n#define BOARD_LEDS_PIN 22\n\n#define LED_BRIGHTNESS_MAXIMUM 100\n#define LED_BRIGHTNESS_STEPS 5\n#define LED_FORMAT LED_FORMAT_GRB\n#define LEDS_PER_PIXEL 2\n\n#define LEDS_DPAD_LEFT   0\n#define LEDS_DPAD_DOWN   1\n#define LEDS_DPAD_RIGHT  2\n#define LEDS_DPAD_UP     3\n#define LEDS_BUTTON_B3   4\n#define LEDS_BUTTON_B4   5\n#define LEDS_BUTTON_R1   6\n#define LEDS_BUTTON_L1   7\n#define LEDS_BUTTON_B1   8\n#define LEDS_BUTTON_B2   9\n#define LEDS_BUTTON_R2   10\n#define LEDS_BUTTON_L2   11\n')),(0,l.kt)("h4",{id:"player-leds"},"Player LEDs"),(0,l.kt)("p",null,"GP2040-CE supports PWM and RGB player LEDs (PLEDs) and can be configured in the ",(0,l.kt)("inlineCode",{parentName:"p"},"BoardConfig.h")," file."),(0,l.kt)("admonition",{type:"note"},(0,l.kt)("p",{parentName:"admonition"},"RGB PLEDs require ",(0,l.kt)("a",{parentName:"p",href:"#rgb-leds"},"RGB LEDs")," to be configured.")),(0,l.kt)("p",null,"The following PLED options are available in the ",(0,l.kt)("inlineCode",{parentName:"p"},"BoardConfig.h")," file:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Required?"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"PLED_TYPE")),(0,l.kt)("td",{parentName:"tr",align:null},"Configures the type of PLEDs.",(0,l.kt)("br",null),"Available options are: ",(0,l.kt)("inlineCode",{parentName:"td"},"PLED_TYPE_PWM"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"PLED_TYPE_RGB")),(0,l.kt)("td",{parentName:"tr",align:null},"Yes")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"PLED1_PIN")),(0,l.kt)("td",{parentName:"tr",align:null},"(PWM) The GPIO pin for PLED #1.",(0,l.kt)("br",null),"(RGB) The index of PLED #1 on the LED chain."),(0,l.kt)("td",{parentName:"tr",align:null},"Yes")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"PLED2_PIN")),(0,l.kt)("td",{parentName:"tr",align:null},"(PWM) The GPIO pin for PLED #2.",(0,l.kt)("br",null),"(RGB) The index of PLED #2 on the LED chain."),(0,l.kt)("td",{parentName:"tr",align:null},"Yes")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"PLED3_PIN")),(0,l.kt)("td",{parentName:"tr",align:null},"(PWM) The GPIO pin for PLED #3.",(0,l.kt)("br",null),"(RGB) The index of PLED #3 on the LED chain."),(0,l.kt)("td",{parentName:"tr",align:null},"Yes")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"PLED4_PIN")),(0,l.kt)("td",{parentName:"tr",align:null},"(PWM) The GPIO pin for PLED #4.",(0,l.kt)("br",null),"(RGB) The index of PLED #4 on the LED chain."),(0,l.kt)("td",{parentName:"tr",align:null},"Yes")))),(0,l.kt)("p",null,"An example PLED setup in the ",(0,l.kt)("inlineCode",{parentName:"p"},"BoardConfig.h")," file:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},'// BoardConfig.h\n\n#include "PlayerLEDs.h"\n\n#define PLED_TYPE PLED_TYPE_RGB\n#define PLED1_PIN 12\n#define PLED2_PIN 13\n#define PLED3_PIN 14\n#define PLED4_PIN 15\n')),(0,l.kt)("h4",{id:"i2c-displays"},"I2C Displays"),(0,l.kt)("p",null,"GP2040-CE supports 128x64 monochrome displays that run on the SSD1306, SH1106 or SH1107 drivers. The following options are available for displays:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Required?"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"BUTTON_LAYOUT")),(0,l.kt)("td",{parentName:"tr",align:null},"The layout of controls/buttons for use with per-button LEDs and external displays.",(0,l.kt)("br",null),"Available options are:",(0,l.kt)("br",null),(0,l.kt)("inlineCode",{parentName:"td"},"BUTTON_LAYOUT_STICKLESS"),(0,l.kt)("br",null),(0,l.kt)("inlineCode",{parentName:"td"},"BUTTON_LAYOUT_WASD")),(0,l.kt)("td",{parentName:"tr",align:null},"Yes")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"HAS_I2C_DISPLAY")),(0,l.kt)("td",{parentName:"tr",align:null},"Flag to indicate the controller contains an I2C display module."),(0,l.kt)("td",{parentName:"tr",align:null},"No")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"DISPLAY_I2C_ADDR")),(0,l.kt)("td",{parentName:"tr",align:null},"The I2C address of the display."),(0,l.kt)("td",{parentName:"tr",align:null},"No, defaults to ",(0,l.kt)("inlineCode",{parentName:"td"},"0x3C"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"I2C_SDA_PIN")),(0,l.kt)("td",{parentName:"tr",align:null},"The GPIO pin for the I2C SDA line."),(0,l.kt)("td",{parentName:"tr",align:null},"If ",(0,l.kt)("inlineCode",{parentName:"td"},"HAS_I2C_DISPLAY")," is enabled")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"I2C_SCL_PIN")),(0,l.kt)("td",{parentName:"tr",align:null},"The GPIO pin for the I2C SCL line."),(0,l.kt)("td",{parentName:"tr",align:null},"If ",(0,l.kt)("inlineCode",{parentName:"td"},"HAS_I2C_DISPLAY")," is enabled")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"I2C_BLOCK")),(0,l.kt)("td",{parentName:"tr",align:null},"The I2C block on the Pico. Refer to the ",(0,l.kt)("a",{parentName:"td",href:"https://datasheets.raspberrypi.com/pico/Pico-R3-A4-Pinout.pdf"},"Pico Pinout Diagram")," to identify which block is in use based on the SDA and SCL pins being used.",(0,l.kt)("br",null),"Available options are:",(0,l.kt)("br",null),(0,l.kt)("inlineCode",{parentName:"td"},"i2c0"),(0,l.kt)("br",null),(0,l.kt)("inlineCode",{parentName:"td"},"i2c1")),(0,l.kt)("td",{parentName:"tr",align:null},"No, defaults to ",(0,l.kt)("inlineCode",{parentName:"td"},"i2c0"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"I2C_SPEED")),(0,l.kt)("td",{parentName:"tr",align:null},"The speed of the I2C bus. ",(0,l.kt)("inlineCode",{parentName:"td"},"100000")," is standard mode, while ",(0,l.kt)("inlineCode",{parentName:"td"},"400000")," is used for fast mode communication. Higher values may be used but will require testing the device for support."),(0,l.kt)("td",{parentName:"tr",align:null},"No, defaults to ",(0,l.kt)("inlineCode",{parentName:"td"},"400000"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"DISPLAY_FLIP")),(0,l.kt)("td",{parentName:"tr",align:null},"Flag to flip the rendered display output. Set to ",(0,l.kt)("inlineCode",{parentName:"td"},"1")," to enable."),(0,l.kt)("td",{parentName:"tr",align:null},"No, defaults to ",(0,l.kt)("inlineCode",{parentName:"td"},"0"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"DISPLAY_INVERT")),(0,l.kt)("td",{parentName:"tr",align:null},"Flag to invert the rendered display output. Set to ",(0,l.kt)("inlineCode",{parentName:"td"},"1")," to enable."),(0,l.kt)("td",{parentName:"tr",align:null},"No, defaults to ",(0,l.kt)("inlineCode",{parentName:"td"},"0"))))),(0,l.kt)("p",null,"An example I2C display setup in the ",(0,l.kt)("inlineCode",{parentName:"p"},"BoardConfig.h")," file:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},"#define BUTTON_LAYOUT BUTTON_LAYOUT_WASD\n#define HAS_I2C_DISPLAY 1\n#define I2C_SDA_PIN 0\n#define I2C_SCL_PIN 1\n#define I2C_BLOCK i2c0\n#define I2C_SPEED 800000\n")),(0,l.kt)("h4",{id:"i2c-display-splash"},"I2C Display Splash"),(0,l.kt)("p",null,"The firmware also has a splash display feature. The default splash image has been defined in ",(0,l.kt)("inlineCode",{parentName:"p"},"headers/addons/i2cdisplay.h"),". The data for the splash image are bytes representing the bitmap to be displayed on the OLED screen. The splash image can be set via the web-config. If you would like to change the default version of the splash image (to preserve it beyond data wipe), it can be customized with a C define named ",(0,l.kt)("inlineCode",{parentName:"p"},"DEFAULT_SPLASH")," in the active ",(0,l.kt)("inlineCode",{parentName:"p"},"BoardConfig.h")," file.\nThe instructions on how to generate those bytes are as follows:"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Navigate to Bitmap Converter web utility"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://marlinfw.org/tools/u8glib/converter.html"},"https://marlinfw.org/tools/u8glib/converter.html")))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Configure generated code"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Select Marlin 2.x and Bitmap, untick all the rest."))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Upload the splash image file"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},'Set the image file after clicking on "Choose file". The image file needs to be preprocessed to your liking and cropped to 128x64.  This should populate a code block below.'))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Use the generated code"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Copy the hex numbers inside the curly braces from the code block.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Navigate to the ",(0,l.kt)("inlineCode",{parentName:"p"},"BoardConfig.h")," of your choice and at the end of the file right before ",(0,l.kt)("inlineCode",{parentName:"p"},"#endif"),". Create a C define like so:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},"#define DEFAULT_SPLASH \\\n"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Then paste what you copied below what you just typed. Be sure to edit the array of bytes as follows:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},"0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, \\ // First line\n0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, \\ // Second line\n... // All lines below previous ones end in \\ similar to those above\n0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00 // Last line doesn't have an \\ to escape the new line\n"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Here's a sample entry from Pico ",(0,l.kt)("inlineCode",{parentName:"p"},"BoardConfig.h"),":"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},"#define DEFAULT_SPLASH \\\n0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, \\\n0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, \\\n0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, \\\n0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, \\\n0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, \\\n0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, \\\n0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, \\\n0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, \\\n0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, \\\n0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, \\\n0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, \\\n0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, \\\n0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, \\\n0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, \\\n0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, \\\n0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, \\\n0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x20,0x00,0x00, \\\n0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x40,0x80,0x00, \\\n0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xE0,0xDF,0xC0, \\\n0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x02,0xC1,0xFF,0xA0, \\\n0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x1F,0xCF,0xFE,0x80, \\\n0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3F,0xFF,0xE0,0x00, \\\n0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x7F,0xAB,0xC0,0x00, \\\n0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x2C,0x00,0x00,0xFB,0x83,0xFF,0x00, \\\n0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0C,0x01,0xFF,0x00,0x01,0xF3,0x07,0xFC,0x00, \\\n0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x1C,0x07,0xFF,0x00,0x03,0xE0,0x3F,0xF4,0x00, \\\n0x00,0x00,0x00,0x00,0x00,0x00,0x2C,0x38,0x0A,0xE7,0x80,0x03,0xC0,0x5F,0x80,0x00, \\\n0x00,0x00,0x00,0x20,0x07,0x81,0xFF,0x39,0xC3,0xC7,0x01,0xD7,0x80,0x3F,0x00,0x00, \\\n0x00,0x00,0x00,0xE0,0x1F,0xE7,0xFF,0x79,0xC7,0x87,0x9F,0xA7,0x80,0x6E,0x3C,0x00, \\\n0x00,0x00,0xA0,0xC0,0x3F,0xEA,0xE7,0xF3,0xEF,0x07,0x7F,0xC7,0x01,0xCF,0xFF,0x80, \\\n0x00,0x03,0x8F,0xFC,0x7F,0xC3,0xC7,0x7F,0xFE,0x0F,0x7E,0x8F,0x87,0xDF,0xFC,0x00, \\\n0x00,0x0F,0xFF,0xFF,0x73,0xC7,0x87,0xFF,0xDE,0x0E,0x50,0x07,0x1F,0x1F,0xD0,0x00, \\\n0x00,0x1F,0x57,0xFF,0xE7,0x8F,0x07,0xFF,0x1C,0x3E,0x00,0x0F,0xFF,0x7F,0x00,0x00, \\\n0x00,0x7E,0x0B,0x8F,0x8F,0x8E,0x0F,0xFF,0x9E,0x7C,0x00,0x07,0xFD,0xFC,0x00,0x00, \\\n0x00,0x7C,0x37,0x9F,0x1F,0x1E,0x0F,0x87,0x1E,0xF8,0x00,0x07,0xF0,0x30,0x00,0x00, \\\n0x00,0xF1,0xF7,0xFE,0x1E,0x1C,0x3E,0x0E,0x1F,0xF0,0x00,0x01,0x40,0x28,0x00,0x00, \\\n0x01,0xEF,0xE7,0xF8,0x3C,0x3E,0x7C,0x0F,0x1F,0xE0,0x00,0x00,0x00,0x00,0x00,0x00, \\\n0x03,0xFF,0x8F,0xF0,0x7F,0xFE,0xF8,0x0E,0x0F,0x80,0x00,0x00,0x00,0x00,0x00,0x00, \\\n0x03,0xFF,0xCF,0xC0,0xFF,0xFF,0xF0,0x0C,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, \\\n0x07,0x8B,0xFF,0x01,0xFF,0x8F,0xC0,0x06,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, \\\n0x07,0x87,0xFE,0x01,0xFE,0x0F,0x80,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, \\\n0x07,0x1F,0xDE,0x03,0xF0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, \\\n0x07,0xBF,0x9E,0x01,0xC0,0x00,0x00,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, \\\n0x07,0xFF,0x9C,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, \\\n0x07,0xFB,0x38,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, \\\n0x03,0xE7,0x30,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, \\\n0x01,0x47,0x28,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, \\\n0x00,0x0E,0x20,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, \\\n0x00,0x0C,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, \\\n0x00,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, \\\n0x00,0x08,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, \\\n0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, \\\n0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, \\\n0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, \\\n0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, \\\n0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, \\\n0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, \\\n0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, \\\n0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, \\\n0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, \\\n0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, \\\n0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, \\\n0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, \\\n0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00\n"))))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Test and verify"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Compile, if you did everything right, it should compile fine"),(0,l.kt)("li",{parentName:"ul"},"Load the UF2 after the compile. Check and verify in the web-config, if you have set a custom image before, you might need to reset data.")))))}L.isMDXComponent=!0}}]);